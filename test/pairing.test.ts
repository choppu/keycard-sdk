import { Pairing } from "../src/pairing"

const CryptoJS = require("crypto-js");

const pairingBytes = new Uint8Array([0x00, 0x51, 0x5d, 0x90, 0xfd, 0x35, 0x1b, 0x2c, 0x2e, 0x68, 0x94, 0x50, 0x90, 0x60, 0xea, 0xf8, 0xec, 0x8f, 0x1c, 0x11, 0x3d, 0x9c, 0x40, 0x84, 0x0c, 0x30, 0x9f, 0x5e, 0x1a, 0x5f, 0x6b, 0x19, 0x68]);
const pairingIndex = 0x00;

const pairingBase64 = "AFFdkP01GywuaJRQkGDq+OyPHBE9nECEDDCfXhpfaxlo";
const pairingKey = new Uint8Array([0x51, 0x5d, 0x90, 0xfd, 0x35, 0x1b, 0x2c, 0x2e, 0x68, 0x94, 0x50, 0x90, 0x60, 0xea, 0xf8, 0xec, 0x8f, 0x1c, 0x11, 0x3d, 0x9c, 0x40, 0x84, 0x0c, 0x30, 0x9f, 0x5e, 0x1a, 0x5f, 0x6b, 0x19, 0x68]);
const pairing = Pairing.fromString(pairingBase64);

test('Pairing constructor functions', () => {
  expect(pairing).toMatchObject(new Pairing(pairingKey, pairingIndex));
  expect(pairing.toByteArray()).toMatchObject(pairingBytes);
  expect(pairing.toBase64()).toEqual(pairingBase64);
});