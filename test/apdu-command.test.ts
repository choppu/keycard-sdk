import { APDUCommand } from "../src/apdu-command";

const apduCommNeedsLE = new APDUCommand(0x80, 0xCA, 0x00, 0x00, new Uint8Array([0xAB, 0x080, 0x7F]), true);
const apduCommNeedsLENoData = new APDUCommand(0x80, 0xCA, 0x00, 0x00, new Uint8Array());
const apduComm = new APDUCommand(0x80, 0xCA, 0x00, 0x00, new Uint8Array([0xAB, 0x080, 0x7F]));

test('APDUCommand Serialize function', () => {
  expect(apduCommNeedsLE.serialize()).toEqual(new Uint8Array([0x80, 0xCA, 0x00, 0x00, 0x03, 0xAB, 0x080, 0x7F, 0x00]));
  expect(apduCommNeedsLENoData.serialize()).toEqual(new Uint8Array([0x80, 0xCA, 0x00, 0x00, 0x00]));
  expect(apduComm.serialize()).toEqual(new Uint8Array([0x80, 0xCA, 0x00, 0x00, 0x03, 0xAB, 0x080, 0x7F]));
});